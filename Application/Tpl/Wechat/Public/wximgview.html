<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script>
wx.config({
  debug: false,
  appId: '{$signPackage.appId}',
  timestamp: {$signPackage.timestamp},
  nonceStr: '{$signPackage.nonceStr}',
  signature: '{$signPackage.signature}',
  jsApiList: [
    'checkJsApi',
    'onMenuShareTimeline',
    'onMenuShareAppMessage',
    'onMenuShareQQ',
    'onMenuShareWeibo',
    'onMenuShareQZone',
    'hideMenuItems',
    'showMenuItems',
    'hideAllNonBaseMenuItem',
    'showAllNonBaseMenuItem',
    'translateVoice',
    'startRecord',
    'stopRecord',
    'onVoiceRecordEnd',
    'playVoice',
    'onVoicePlayEnd',
    'pauseVoice',
    'stopVoice',
    'uploadVoice',
    'downloadVoice',
    'chooseImage',
    'previewImage',
    'uploadImage',
    'downloadImage',
    'getNetworkType',
    'openLocation',
    'getLocation',
    'hideOptionMenu',
    'showOptionMenu',
    'closeWindow',
    'scanQRCode',
    'chooseWXPay',
    'openProductSpecificView',
    'addCard',
    'chooseCard',
    'openCard'
  ]
});

$(document).ready(function(){
  $(".content").find("img").on("click",function(){
    WX_imgview(this);
  });
});

function WX_imgview(a){
  var current=$(a).prop("src");
  var imgs=[];
  
  var l=$(".content img").length;
  for(var i=0; i<l;i++){
    imgs[i]=$(".content img").eq(i).prop("src");
    //console.log(imgs[i]);
  }
  
  wx.previewImage({
    current: current,
    urls: imgs
  });
}
</script>